!function(e){function o(t){if(n[t])return n[t].exports;var r=n[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}var n={};return o.m=e,o.c=n,o.p="",o(0)}([function(e,o,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var r=n(4),i=t(r);window.KMD=window.__timing=i.default,o.default=i.default,e.exports=o.default},function(e,o,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var r=n(2),i=t(r),a=function(e,o){e=e.indexOf("?")>=0?e+"&user_id="+(0,i.default)():e+"?user_id="+(0,i.default)();var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","text/plain"),n.send(o)};o.default={post:a},e.exports=o.default},function(e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){var e=document.cookie,o=n.exec(e);return o&&o.length>1?o[2]:""};var n=/(pg-uid|user-id|userid)=(\d+)/;e.exports=o.default},function(e,o,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0}),o.handleJsError=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=t(i),d="0.2.24",s={},c="https://web.u51.com/api.u51.com/nodejs-performance-log-server/error",u=c+"?_u="+encodeURIComponent(window.location.href)+"&_v="+encodeURIComponent(d),f="https://web.u51.com/api.u51.com/nodejs-performance-log-server/resource-error?_u="+encodeURIComponent(window.location.href)+"&_v="+encodeURIComponent(d),w="https://web.u51.com/api.u51.com/nodejs-performance-log-server/xhr-error?_u="+encodeURIComponent(window.location.href)+"&_v="+encodeURIComponent(d),p=function(e){try{var o=e;for(var n in o){var t=!1,r=void 0;r=n.replace(/[A-Z]/g,function(e){return t=!0,"_"+e.toLowerCase()}),t&&(o[r]=o[n],delete o[n])}return o}catch(e){}},m=function(e){var o=void 0;return o=window.performance&&window.performance.timeOrigin?e+window.performance.timeOrigin:e},l=function(e){try{return"function"==typeof e?e.toString():"object"!==("undefined"==typeof e?"undefined":r(e))?String(e):null===e?String(e):JSON.stringify(e)}catch(e){}},g=function(e){try{var o={errorType:"console.error",collectTime:m(e.timeStamp)},n=e.detail;n instanceof Error?(o.message=n.message,o.stack=n.stack):o.message=l(n),a.default.post(u,JSON.stringify(p(o)))}catch(e){}},_=function(e){try{var o={errorType:"unhandled promise rejection",collectTime:m(e.timeStamp)};e.reason instanceof Error?(o.message=e.reason.message,o.stack=e.reason.stack):o.message=l(e.reason),a.default.post(u,JSON.stringify(p(o)))}catch(e){}},v=function(e){try{var o={errorType:"KMD.onError",collectTime:m(e.timeStamp)},n=e.detail;n instanceof Error?(o.message=n.message,o.stack=n.stack):o.message=l(n),a.default.post(u,JSON.stringify(p(o)))}catch(e){}},h=function(e){try{var o={errorType:"js error"};if("string"==typeof e)o.message=e,o.collectTime=+new Date,a.default.post(u,JSON.stringify(p(o)));else{var n=e.message+"-"+e.filename+"-"+e.lineno+"-"+e.colno,t=s[n];s[n]=new Date;var r=t&&new Date-t<2e3;if(r)return;o.message=e.message,o.stack=e.stack||(e.error?e.error.stack:void 0),o.filename=e.filename,o.lineno=e.lineno,o.colno=e.colno,o.collectTime=+new Date,a.default.post(u,JSON.stringify(p(o)))}}catch(e){}},y=function(e){try{var o=e instanceof ErrorEvent;if(!o){var n=e.target.outerHTML,t=window.location.href.split("#")[0],r=n.indexOf('src=""')!==-1||n.indexOf("src=''")!==-1;if(e.target.src!==t&&!r){var i={errorType:e.target.tagName.toLowerCase(),src:e.target.src||e.target.href,outer_html:e.target.outerHTML,collectTime:m(e.timeStamp)},d=e.target.error;d&&(i.code=d.code,i.message=d.message),a.default.post(f,JSON.stringify(p(i)))}}}catch(e){}},S=function(e){e.detail.collect_time=m(e.timeStamp),a.default.post(w,JSON.stringify(p(e.detail)))};window.addEventListener&&(window.addEventListener("error",h),window.addEventListener("error",y,!0),window.addEventListener("unhandledrejection",_),window.addEventListener("__xhr__",S),window.addEventListener("__console_error__",g),window.addEventListener("__kmd_error__",v),setInterval(function(){var e=[];for(var o in s)new Date-s[o]>5e3&&e.push(o);for(var n=0;n<e.length;n++)delete s[e[n]]},2e4));var b=function(e){try{"__console_error__"===e.type?g(e):"__xhr__"===e.type?S(e):"__kmd_error__"===e.type?v(e):"unhandledrejection"===e.type?_(e):e instanceof ErrorEvent?h(e):y(e)}catch(e){}};!function(){if(window._kmd_error_storage_&&window._kmd_error_storage_.length>0)for(var e=window._kmd_error_storage_,o=0;o<e.length;o++)b(e[o])}(),o.handleJsError=h},function(e,o,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(7);var i=n(5),a=t(i),d=n(3),s=n(1),c=(t(s),n(6),"firstShowPage"),u="https://web.u51.com/api.u51.com/nodejs-performance-log-server/d.png",f="https://web.u51.com/api.u51.com/nodejs-performance-log-server/t.png",w="0.2.24",p={},m=!1,l={dns:["domainLookupEnd","fetchStart"],ntw:["responseEnd","fetchStart"],dlt:["domInteractive","fetchStart"],dct:["domComplete","fetchStart"],tlt:["loadEventEnd","fetchStart"],spt:[c,"fetchStart"],wvi:["webviewLoadUrl","webviewStart"],wvl:["fetchStart","webviewLoadUrl"],wvs:[c,"webviewStart"]},g=function(){var e=[];for(var o in l)e.push(o);if(0!==e.length){var n={};try{window.performance&&(0,a.default)(p,performance.timing);for(var t=0;t<e.length;t++){var r=e[t],i=p[l[r][0]],s=p[l[r][1]],c=i-s;!isNaN(c)&&c>=0&&s&&s>1e3&&(n[r]=c,delete l[r])}var u=[];u.push("_u="+encodeURIComponent(window.location.href)),u.push("_o="+encodeURIComponent(window.offlineVersion||"")),u.push("_v="+encodeURIComponent(w));for(var m in n)u.push(m+"="+n[m]);u.push("kmdNetwork="+(window.u51WebViewPerformance.network||"")),u.push("kmdOs="+(window.u51WebViewPerformance.os||"")),u.push("kmdHasBg="+(window.u51HasBackground||!1)),(new Image).src=f+"?"+u.join("&")}catch(e){(0,d.handleJsError)(e)}}},_=function(){var e=window._kmd_timing_show_||(new Date).getTime();if(p[c]=e,!window.u51PageShow)try{window.u51PageShow=e,/android/i.test(navigator.userAgent)?window.SuperSpeedBridge&&window.SuperSpeedBridge.u51PageShowNotify():window.webkit&&window.webkit.messageHandlers?window.webkit.messageHandlers.nativeServer.postMessage(JSON.stringify({Method:"u51PageShowNotify",CallbackId:"",Args:{}})):window.ENBridge_sendMessageToNative&&window.ENBridge_sendMessageToNative(JSON.stringify({Method:"u51PageShowNotify",CallbackId:"",Args:{}}))}catch(e){}if(window.performance&&window.performance.timing&&window.performance.timing.fetchStart>0){var o=e-window.performance.timing.fetchStart;if(m){var n=[];n.push("_u="+encodeURIComponent(window.location.href)),n.push("_o="+encodeURIComponent(window.offlineVersion||"")),n.push("_v="+encodeURIComponent(w)),n.push("spt="+(o||0)),n.push("kmdNetwork="+(window.u51WebViewPerformance.network||"")),n.push("kmdOs="+(window.u51WebViewPerformance.os||"")),n.push("kmdHasBg="+(window.u51HasBackgroud||!1)),(new Image).src=f+"?"+n.join("&")}else p.spt=o}h.show=function(){}},v=function(e,o,n,t){var i=[];"object"===("undefined"==typeof e?"undefined":r(e))?(i.push("s="+encodeURIComponent(e.service||"")),i.push("e="+encodeURIComponent(e.event||"")),i.push("p="+encodeURIComponent(e.page||"")),i.push("v="+encodeURIComponent(e.value||"")),i.push("pe="+encodeURIComponent(e.pEvent||"")),i.push("pp="+encodeURIComponent(e.pPage||"")),i.push("m="+encodeURIComponent(e.msg||"")),i.push("rqd="+encodeURIComponent(e.rqd||"")),i.push("rsd="+encodeURIComponent(e.rsd||""))):(i.push("s="+encodeURIComponent(e||"")),i.push("e="+encodeURIComponent(o||"")),i.push("p="+encodeURIComponent(n||"")),i.push("m="+encodeURIComponent(t||""))),(new Image).src=u+"?"+i.join("&")},h={show:_,onError:window.KMD.onError||function(){},log:v};!function(){if(window.u51WebViewPerformance=window.u51WebViewPerformance||{},window.u51WebViewPerformance.timing=window.u51WebViewPerformance.timing||{},p.webviewStart=window.u51WebViewPerformance.timing.webviewStart||NaN,p.webviewLoadUrl=window.u51WebViewPerformance.timing.webviewLoadUrl||NaN,window._kmd_timing_show_&&_(),window.performance&&window.performance.timing&&window.performance.timing.loadEventEnd>0?(m=!0,g()):window.addEventListener("load",function(){m=!0,setTimeout(g,0)}),window._kmd_log_storage_&&window._kmd_log_storage_.length>0){for(var e=window._kmd_log_storage_,o=0;o<e.length;o++)v.apply(window,e[o]);window._kmd_log_storage_=[]}}(),o.default=h,e.exports=o.default},function(e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(e){for(var o=arguments.length,n=Array(o>1?o-1:0),t=1;t<o;t++)n[t-1]=arguments[t];for(var r=0,i=n.length;r<i;r++){var a=n[r];for(var d in a)e[d]=a[d]}return e};o.default=n,e.exports=o.default},function(e,o){"use strict";function n(e){return e?e.replace(/#.*/,"").replace(/\?.*/,""):""}Object.defineProperty(o,"__esModule",{value:!0}),o.replaceQuery=n;o.qs={stringify:function(e){var o=[];for(var n in e)e.hasOwnProperty(n)&&o.push(n+"="+encodeURIComponent(e[n]));return o.join("&")},parse:function(e){for(var o=e.replace(/^\?/,""),n=o.split("&"),t=n.length,r={},i=0;i<t;i++){var a=n[i];if(a){var d=a.split("=");d[0]&&d[1]&&(r[d[0]]=d[1])}}return r}}},function(e,o,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var r=n(2),i=t(r),a="https://web.u51.com/api.u51.com/nodejs-performance-log-server/h.png",d="0.2.24",s=1,c=document.referrer,u=function(){var e=[];e.push("user_id="+encodeURIComponent((0,i.default)())),e.push("_v="+encodeURIComponent(d)),e.push("_u="+encodeURIComponent(window.location.href)),e.push("_o="+encodeURIComponent(window.offlineVersion||"")),e.push("_referrer="+encodeURIComponent(c)),e.push("_depth="+encodeURIComponent(s)),(new Image).src=a+("?"+e.join("&"))},f=function(){var e=function(e){c=e.oldURL,s+=1,u()};window.addEventListener?window.addEventListener("hashchange",e):window.onhashchange=e(),u()};f()}]);